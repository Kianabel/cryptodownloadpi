<!DOCTYPE html>
<html>
        <head>
                <title>Slot Machine</title>
                <style>
                        :root {
                                background-color: #212121;
                        }
                        body {
                                text-align: center;
                                font-family: Arial, sans-serif;
                        }
                        .slot-container {
                                display: flex;
                                justify-content: flex-start;

                                align-items: flex-start;
                                border: 5px solid #333;
                                width: 300px;
                                height: 200px;
                                overflow: hidden;
                                margin: auto;
                                border-radius: 8px;
                                perspective: 1500;
                        }
                        .slot {
                                transform: translateX(-50px) translateY(-50px);

                                width: 100px;
                                text-align: center;
                                font-size: 24px;
                                line-height: 100px;
                                position: relative;
                                transition: all ease-out 2s;
                        }
                        .spin {
                                animation: spin 3.5s forwards;
                        }
                        .enlargen {
                                animation: enlargen 0.1s forwards;
                        }

                        .blur {
                                animation: blur 0.3s forwards;
                        }
                        .emoji {
                                position: absolute;
                                padding: 20px;
                        }
                        .win {
                                animation: win 0.3s forwards,
                                        rotate 1.5s infinite alternate ease-in-out 0.3s;
                        }
                        button {
                                display: block;
                                margin: 20px auto;
                                padding: 1rem;
                                background-color: rgb(0, 132, 255);
                                border: none;
                                border-radius: 8px;
                                color: #fff;
                                font-weight: bold;
                                transition: all 0.1s;
                        }
                        button:hover {
                                cursor: pointer;
                                transform: scale(1.1);
                                background-color: rgb(0, 86, 167);
                        }

                        @keyframes blur {
                                from {
                                }
                                to {
                                        filter: blur(8px);
                                        -webkit-filter: blur(8px);
                                }
                        }
                        @keyframes win {
                                from {
                                        transform: scale(1.3);
                                }
                                to {
                                        transform: scale(4);
                                }
                        }
                        @keyframes rotate {
                                0% {
                                        transform: scale(4) rotate(0deg);
                                }
                                100% {
                                        transform: scale(4) rotate(2deg);
                                }
                        }
                        @keyframes enlargen {
                                from {
                                }
                                to {
                                        transform: scale(1.3) rotate(1turn);
                                }
                        }

                        @keyframes spin {
                                from {
                                }
                                to {
                                        transform: translateY(-2750px) translateX(-50px);
                                }
                        }
                </style>
        </head>
        <body>
                <div class="slot-container">
                        <div id="slot1" class="slot"></div>
                        <div id="slot2" class="slot"></div>
                        <div id="slot3" class="slot"></div>
                </div>

                <button onclick="spin()">Open Capsule</button>
                <script>
                        const teams = [
                        
                        "https://cdn.discordapp.com/attachments/1110126401425776740/1163456916060635217/faq.png?ex=65d34cb0&is=65c0d7b0&hm=d2efcdea548f7cb7bd4c9373359efbc807155915f2acf8c16b0979ca903f856b&"
                        ];
                        const nations = [
                        
                        "https://cdn.discordapp.com/attachments/1110126401425776740/1163456916060635217/faq.png?ex=65d34cb0&is=65c0d7b0&hm=d2efcdea548f7cb7bd4c9373359efbc807155915f2acf8c16b0979ca903f856b&"
                        ];

                        const rarities = [
                        
                        "https://cdn.discordapp.com/attachments/1110126401425776740/1163456916060635217/faq.png?ex=65d34cb0&is=65c0d7b0&hm=d2efcdea548f7cb7bd4c9373359efbc807155915f2acf8c16b0979ca903f856b&"
                        ];
                        const images = [
                                "https://cdn.discordapp.com/attachments/1110126401425776740/1163391175458291802/Bitcoin_Download_Logo_2.png?ex=65d30f76&is=65c09a76&hm=c7df6f876e9e0cbf30e7ad0df102107ea909cb6a6271fe270a485f6667dce526&"
                        ];
                        let spinning = false;

                        function populateSlot(slotId) {
                                let selection = [];
                                console.log(slotId);
                                switch (slotId) {
                                        case "slot1":
                                                selection = teams;
                                                break;
                                        case "slot2":
                                                selection = nations;
                                                break;
                                        case "slot3":
                                                selection = rarities;
                                                break;
                                }
                                const slotElement = document.getElementById(slotId);
                                let content = "";
                                for (let i = 0; i < 30; i++) {
                                        const src =
                                                selection[Math.floor(Math.random() * selection.length)];
                                        content += `<img width="60" height="60" class="emoji" style="top:${
                                                i * 100
                                        }px"
                                        src=${src}>

                                        </img>`;
                                }
                                slotElement.innerHTML = content;
                        }

                        function spin() {
                                if (spinning) return;
                                document.querySelectorAll(".slot").forEach((emoji, index) => {
                                        emoji.classList.remove("spin");
                                });
                                spinning = true;
                                populateSlot("slot1");
                                populateSlot("slot2");
                                populateSlot("slot3");

                                document.querySelectorAll(".slot").forEach((emoji, index) => {
                                        setTimeout(() => {
                                                emoji.classList.add("spin");
                                                setTimeout(() => {
                                                        emoji.children[28].classList.add("enlargen");
                                                }, 3600 + index * 100);
                                        }, index * 100);
                                });
                                setTimeout(() => {
                                        document
                                                .querySelectorAll(".emoji")
                                                .forEach((emoji, index) => {
                                                        if (index !== 58) emoji.classList.add("blur");
                                                        else {
                                                                emoji.src =
                                                                        images[
                                                                                Math.floor(
                                                                                        Math.random() * images.length
                                                                                )
                                                                        ];
                                                                emoji.classList.add("win");
                                                        }
                                                });
                                }, 4300);
                                setTimeout(() => {
                                        spinning = false;
                                }, 4500);
                        }

                        // Initial population
                        populateSlot("slot1");
                        populateSlot("slot2");
                        populateSlot("slot3");
                </script>
        </body>
</html>